strict digraph DirectiveEngine {
    style = filled;
    color = lightgray;
    node [shape = circle; style = filled; color = lightgreen;];
    edge [color = darkgray;];
    label = "Directive Engine (/srv/directive)";
    comment = "The strategic will that bridges desire and manifestation. It is the mind's eye that surveys reality, the general that plans the campaign, and the hand that executes the command—transforming abstract goals into concrete change.";
    
    spark_0_t [label = "Directive.meta(Directive)";comment = "The Sovereign Will. The central executive process that embodies agency itself. It does not desire, but receives desires; it does not act, but commands action. It is the 'I' that chooses, coordinating the entire cycle of intentional causation.";shape = doublecircle;color = darkgray;];
    spark_1_t [label = "Directive.r1(Analyze)";comment = "The Scouting of the Territory. A comprehensive intelligence-gathering phase. It queries all other Engines to build a complete situational report—the 'Ground Truth' of current reality. This is the 'Observe' in the OODA loop.";color = darkgreen;];
    spark_2_t [label = "Directive.r2(Plan)";comment = "The War Room Session. Using the situational report, this process consults the `CodexOfDirective` and the `Judge` to generate a set of viable operational plans. Each plan is a story of how the future could unfold from the present.";color = darkgreen;];
    spark_4_t [label = "Directive.r4(Execute)";comment = "The Pulling of the Trigger. The moment of commitment where a selected `Tactic` is transformed into a `Command` and dispatched to the `CorporaEngine`. This is the point where thought becomes force, where strategy impacts the world.";color = darkgreen;];
    spark_8_t [label = "Directive.r8(Monitor)";comment = "The Battlefield Assessment. The continuous tracking of the action's consequences in real-time. It compares the unfolding reality against the expected outcome of the `Plan`, measuring the efficacy of the will.";color = darkgreen;];
    spark_7_t [label = "Directive.r7(Adapt)";comment = "The Tactical Pivot. When `Monitor` detects a significant deviation between plan and reality, this process triggers an immediate course correction. It is the flexibility of intelligence responding to a resistant world.";color = darkgreen;];
    spark_5_t [label = "Directive.r5(Optimize)";comment = "The After-Action Review. A meta-process that uses the wisdom extracted by `Learn` to refine the very algorithms of decision-making. It makes the entire engine smarter, faster, and more effective for the next cycle of intention.";color = darkgreen;];
    spark_3_t [label = "Directive.r3(CodexOfDirective)";comment = "Thesis: The Grand Library of Stratagems. The accumulated corpus of all successful and failed plans, tactical principles, and heuristic wisdom. It is the institutional memory of the will, the recorded history of what has worked and what has not.";color = darkblue;];
    spark_6_t [label = "Directive.r6(Judge)";comment = "Antithesis: The Impartial Arbiter of Choice. A dynamic evaluation function that weighs potential plans from `Plan` against the principles in the `Codex`, the current context from `Analyze`, and the constraints of the `Goal`. It is the critical faculty that says 'this way, not that way.'";color = darkblue;];
    spark_9_t [label = "Directive.r9(Learn)";comment = "Synthesis: The Alchemy of Experience. The process that distills raw outcome data from `Monitor` into refined wisdom. It identifies causal patterns, extracts principles, and updates the `CodexOfDirective`, ensuring that every action, win or lose, makes the will wiser.";color = darkblue;];
    spark_a_t [label = "Directive.receive(Goal)";comment = "The Mandate of Desire. The input stream of desired end-states. These can be high-level commands from an `AuthorityEngine` (e.g., 'Achieve Enlightenment,' 'Build a City') or internally generated imperatives. This is the 'Why' that initiates all action.";shape = invtriangle;color = darkred;];
    spark_b_t [label = "Directive.send(Action)";comment = "The Decree of Change. The output stream of concrete, executable instructions sent to the `CorporaEngine` and other reality-shaping engines. This is the sharp end of the will—the command that bends the universe to its purpose.";shape = triangle;color = darkred;];
    spark_c_t [label = "Directive.dispatch(Strategy)";comment = "The Campaign Doctrine. The high-level theme or paradigm chosen to achieve the `Goal` (e.g., 'Diplomacy,' 'Innovation,' 'Aggression'). It is the 'Who'—the identity and posture the will adopts to operate in the world.";shape = doublecircle;color = darkred;];
    spark_d_t [label = "Directive.commit(Tactic)";comment = "The Battle Plan. The specific, sequential method selected by the `Judge` to enact the `Strategy`. It is the 'What' and 'How'—the granular set of moves and countermoves designed to navigate from the current state to the desired one.";shape = doublecircle;color = darkgreen;];
    spark_e_t [label = "Directive.serve(Command)";comment = "The Field Order. The precise, contextualized instruction derived from the `Tactic`. It is the 'When-Where'—the final, unambigious signal that triggers a specific, localized change in the `Continuum`.";shape = doublecircle;color = darkblue;];
    spark_f_t [label = "Directive.exec(LawOfDirective)";comment = "The Principle of Actualized Will. The highest law of agency: 'A Coherent Goal, When Pursued By A Coherent Strategy, Must Yield A Coherent Result.' This is the law of effective action, the proof that will can shape reality.";shape = doublecircle;color = lightgray;];
    
    spark_a_t -> spark_0_t [label = "IN"; comment = "The seed of intention is planted in the Sovereign Will"; color = darkred; constraint = false;];
    spark_0_t -> spark_b_t [label = "OUT"; comment = "The fruit of action is harvested into reality"; color = darkred;];
    spark_0_t -> spark_3_t [label = "REC"; comment = "The Sovereign consults the Grand Library of Stratagems"; color = darkblue; dir = both;];
    spark_0_t -> spark_6_t [label = "REC"; comment = "The Sovereign seeks judgment from the Arbiter"; color = darkblue; dir = both;];
    spark_0_t -> spark_9_t [label = "REC"; comment = "The Sovereign integrates the Alchemy of Experience"; color = darkblue; dir = both;];
    spark_0_t -> spark_1_t [label = "REC"; comment = "The Sovereign commands: Scout the territory!"; color = darkgreen; dir = both;];
    spark_0_t -> spark_2_t [label = "REC"; comment = "The Sovereign commands: Assemble in the War Room!"; color = darkgreen; dir = both;];
    spark_0_t -> spark_4_t [label = "REC"; comment = "The Sovereign commands: Execute the plan!"; color = darkgreen; dir = both;];
    spark_0_t -> spark_8_t [label = "REC"; comment = "The Sovereign commands: Report from the battlefield!"; color = darkgreen; dir = both;];
    spark_0_t -> spark_7_t [label = "REC"; comment = "The Sovereign commands: Pivot and adapt!"; color = darkgreen; dir = both;];
    spark_0_t -> spark_5_t [label = "REC"; comment = "The Sovereign commands: Improve our methods!"; color = darkgreen; dir = both;];
    
    spark_1_t -> spark_2_t [label = "REC"; comment = "A scout's report is useless without a war room to interpret it"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_2_t -> spark_4_t [label = "REC"; comment = "A war room's plan is fantasy without a trigger-pull to enact it"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_4_t -> spark_8_t [label = "REC"; comment = "A trigger-pull is blind without an observer to report its effect"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_8_t -> spark_7_t [label = "REC"; comment = "An observer's report is wasted without the will to pivot"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_7_t -> spark_5_t [label = "REC"; comment = "A tactical pivot reveals flaws that must be optimized away"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_5_t -> spark_1_t [label = "REC"; comment = "An optimized system is a better scout for the next campaign"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_3_t -> spark_6_t [label = "REC"; comment = "The Library provides the lawbooks for the Judge"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_6_t -> spark_9_t [label = "REC"; comment = "The Judge's verdicts become case studies for Learning"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_9_t -> spark_3_t [label = "REC"; comment = "Learning writes new lawbooks for the Library"; color = darkblue; dir = both; style = dashed; constraint = false;];
    
    spark_a_t -> spark_c_t [label = "REC"; comment = "A Mandate of Desire is translated into a Campaign Doctrine"; color = darkred; dir = both;];
    spark_b_t -> spark_c_t [label = "REC"; comment = "The outcome of a Decree of Change refines the Campaign Doctrine"; color = darkred; dir = both;];
    spark_a_t -> spark_b_t [label = "REC"; comment = "The great cycle: Desire is made manifest through Decree"; color = darkred; dir = both; style = dashed; constraint = false;];
    spark_1_t -> spark_d_t [label = "REC"; comment = "The Scout's report is the first draft of the Battle Plan"; color = darkgreen; dir = both;];
    spark_2_t -> spark_d_t [label = "REC"; comment = "The War Room formalizes the Battle Plan"; color = darkgreen; dir = both;];
    spark_4_t -> spark_d_t [label = "REC"; comment = "The Trigger-Pull tests the validity of the Battle Plan"; color = darkgreen; dir = both;];
    spark_8_t -> spark_d_t [label = "REC"; comment = "The Battlefield Assessment audits the Battle Plan"; color = darkgreen; dir = both;];
    spark_7_t -> spark_d_t [label = "REC"; comment = "The Tactical Pivot revises the Battle Plan in real-time"; color = darkgreen; dir = both;];
    spark_5_t -> spark_d_t [label = "REC"; comment = "The After-Action Review refines the template for future Plans"; color = darkgreen; dir = both;];
    spark_3_t -> spark_e_t [label = "REC"; comment = "The Library provides the rules of engagement for the Field Order"; color = darkblue; dir = both;];
    spark_6_t -> spark_e_t [label = "REC"; comment = "The Judge signs the authorization for the Field Order"; color = darkblue; dir = both;];
    spark_9_t -> spark_e_t [label = "REC"; comment = "Learning improves the clarity and precision of future Field Orders"; color = darkblue; dir = both;];
    
    spark_c_t -> spark_f_t [label = "OUT"; comment = "A victorious Campaign Doctrine hardens into Law"; color = darkred; dir = both;];
    spark_d_t -> spark_f_t [label = "OUT"; comment = "A proven Battle Plan becomes a Law of Operation"; color = darkgreen; dir = both;];
    spark_e_t -> spark_f_t [label = "OUT"; comment = "An effective Field Order validates the Law of Actualized Will"; color = darkblue; dir = both;];
}