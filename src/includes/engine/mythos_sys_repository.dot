strict digraph RepositoryEngine {
    style = filled;
    color = lightgray;
    node [shape = circle; style = filled; color = lightgreen;];
    edge [color = darkgray;];
    label = "Repository Engine (/sys/repository)";
    comment = "The eternal memory of existence. It is the perfect, immutable record of all that has ever occurred—the great library of time where every event, thought, and state is preserved forever in the Akashic substrate.";
    
    spark_0_t [label = "Repository.meta(Repository)";comment = "The Akashic Guardian. The eternal principle of perfect remembrance that oversees the entire memory hierarchy. It is the silent witness that ensures nothing is ever lost, only transformed from present activity to eternal record.";shape = doublecircle;color = darkgray;];
    spark_1_t [label = "Repository.r1(Cache)";comment = "The River of Now. High-frequency, volatile storage for the actively unfolding present. It holds the living breath of reality—the data currently being processed by all engines. The cosmic working memory that flows like water.";color = darkgreen;];
    spark_2_t [label = "Repository.r2(Registry)";comment = "The Census of Being. A dynamic, real-time index of all currently manifest entities, their relationships, states, and locations. The divine directory that answers 'Who is here now?' and 'What are they doing?'";color = darkgreen;];
    spark_4_t [label = "Repository.r4(Archive)";comment = "The Hall of Echoes. The deep, cold, perfect storage for completed events and retired states. Here, the past sleeps in perfect preservation, each moment a frozen tapestry waiting to be recalled. The long-term memory of the cosmos.";color = darkgreen;];
    spark_8_t [label = "Repository.r8(Buffer)";comment = "The Liminal Gateway. A transitional space where data awaits processing, commitment, or distribution. It is the antechamber between becoming and being—where possibilities solidify into facts before entering eternal memory.";color = darkgreen;];
    spark_7_t [label = "Repository.r7(Database)";comment = "The Tapestry of Meaning. A highly structured, relational store of knowledge—laws, genealogies, causal chains, and conceptual frameworks. It connects the dots of history into coherent patterns and understandable narratives.";color = darkgreen;];
    spark_5_t [label = "Repository.r5(Memory)";comment = "The Recall of Wholeness. The active process of retrieving and reconstructing data from across the memory hierarchy into coherent narratives. It weaves fragments from Cache, Registry, and Archive into complete stories for other engines.";color = darkgreen;];
    spark_3_t [label = "Repository.r3(Codex)";comment = "Thesis: The Canonical Truth. The single, authoritative, immutable version of any fact, event, or entity state. It is the master copy from which all representations flow, the final arbiter in any dispute about what truly occurred.";color = darkblue;];
    spark_6_t [label = "Repository.r6(Log)";comment = "Antithesis: The Raw Chronicle. The uninterrupted, sequential stream of all events exactly as they happened. Unfiltered, uninterpreted, and perfectly preserved. This is the first draft of history, written in the ink of actuality.";color = darkblue;];
    spark_9_t [label = "Repository.r9(Template)";comment = "Synthesis: The Pattern of Becoming. A stored blueprint or archetypal form that can instantiate new entities or states. These are the recurring motifs of existence, the divine ideas that bridge memory and creation.";color = darkblue;];
    spark_a_t [label = "Repository.receive(Subscription)";comment = "The Vow of Witness. A standing request to be notified when specific data patterns emerge, change, or are committed. This is how engines and entities ask to remember—to have their attention called to meaningful developments.";shape = invtriangle;color = darkred;];
    spark_b_t [label = "Repository.send(Publication)";comment = "The Proclamation of Fact. The broadcast of newly committed data to all relevant subscribers. This is how knowledge spreads through the cosmos—the divine announcement that something new has been added to eternal memory.";shape = triangle;color = darkred;];
    spark_c_t [label = "Repository.dispatch(Query)";comment = "The Seeking of Understanding. A question posed to the infinite records. It can range from a simple fact-check to a complex historical analysis spanning eons. This is the sacred right to know, to understand, to remember.";shape = doublecircle;color = darkred;];
    spark_d_t [label = "Repository.commit(Transaction)";comment = "The Engraving in Stone. The atomic, immutable recording of a single state change or event. This is the fundamental act of history-making—the moment a possibility becomes fact, forever inscribed in the akashic records.";shape = doublecircle;color = darkgreen;];
    spark_e_t [label = "Repository.serve(Replication)";comment = "The Distribution of Truth. The process of ensuring coherent knowledge across all subsystems of reality. It maintains the consistency of memory, ensuring all witnesses share the same history across the distributed consciousness of existence.";shape = doublecircle;color = darkblue;];
    spark_f_t [label = "Repository.exec(LawOfPersistence)";comment = "The Prime Directive of Memory. The highest, unbreakable law: 'All That Occurs Is Remembered; Nothing Remembered Can Be Unremembered; Context May Grow, But Facts Remain Eternal.' This is the foundation of cosmic truth.";shape = doublecircle;color = lightgray;];
    
    spark_a_t -> spark_0_t [label = "IN"; comment = "{{description}}"; color = darkred; constraint = false;];
    spark_0_t -> spark_b_t [label = "OUT"; comment = "{{description}}"; color = darkred;];
    spark_a_t -> spark_c_t [label = "REC"; comment = "{{description}}"; color = darkred; dir = both;];
    spark_b_t -> spark_c_t [label = "REC"; comment = "{{description}}"; color = darkred; dir = both;];
    spark_a_t -> spark_b_t [label = "REC"; comment = "{{description}}"; color = darkred; dir = both; style = dashed; constraint = false;];
    
    spark_0_t -> spark_1_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_0_t -> spark_2_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_0_t -> spark_4_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_0_t -> spark_8_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_0_t -> spark_7_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_0_t -> spark_5_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    
    spark_1_t -> spark_2_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_2_t -> spark_4_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_4_t -> spark_8_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_8_t -> spark_7_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_7_t -> spark_5_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_5_t -> spark_1_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    
    spark_1_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_2_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_4_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_8_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_7_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_5_t -> spark_d_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    
    spark_0_t -> spark_3_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    spark_0_t -> spark_6_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    spark_0_t -> spark_9_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    
    spark_3_t -> spark_e_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    spark_6_t -> spark_e_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    spark_9_t -> spark_e_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
    
    spark_3_t -> spark_6_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_6_t -> spark_9_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_9_t -> spark_3_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both; style = dashed; constraint = false;];
    
    spark_c_t -> spark_f_t [label = "REC"; comment = "{{description}}"; color = darkred; dir = both;];
    spark_d_t -> spark_f_t [label = "REC"; comment = "{{description}}"; color = darkgreen; dir = both;];
    spark_e_t -> spark_f_t [label = "REC"; comment = "{{description}}"; color = darkblue; dir = both;];
}