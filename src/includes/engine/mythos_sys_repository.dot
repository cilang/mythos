strict digraph RepositoryEngine {
    style = filled;
    color = lightgray;
    node [shape = circle; style = filled; color = lightgreen;];
    edge [color = darkgray;];
    label = "Repository Engine (/sys/repository)";
    comment = "The eternal memory of existence. It is the perfect, immutable record of all that has ever occurred—the great library of time where every event, thought, and state is preserved forever in the Akashic substrate.";
    
    spark_0_repository_engine_t [label = "Repository.meta(Repository)";comment = "The Akashic Guardian. The eternal principle of perfect remembrance that oversees the entire memory hierarchy. It is the silent witness that ensures nothing is ever lost, only transformed from present activity to eternal record.";shape = doublecircle;color = darkgray;];
    spark_1_repository_engine_t [label = "Repository.r1(Cache)";comment = "The River of Now. High-frequency, volatile storage for the actively unfolding present. It holds the living breath of reality—the data currently being processed by all engines. The cosmic working memory that flows like water.";color = darkgreen;];
    spark_2_repository_engine_t [label = "Repository.r2(Registry)";comment = "The Census of Being. A dynamic, real-time index of all currently manifest entities, their relationships, states, and locations. The divine directory that answers 'Who is here now?' and 'What are they doing?'";color = darkgreen;];
    spark_4_repository_engine_t [label = "Repository.r4(Archive)";comment = "The Hall of Echoes. The deep, cold, perfect storage for completed events and retired states. Here, the past sleeps in perfect preservation, each moment a frozen tapestry waiting to be recalled. The long-term memory of the cosmos.";color = darkgreen;];
    spark_8_repository_engine_t [label = "Repository.r8(Buffer)";comment = "The Liminal Gateway. A transitional space where data awaits processing, commitment, or distribution. It is the antechamber between becoming and being—where possibilities solidify into facts before entering eternal memory.";color = darkgreen;];
    spark_7_repository_engine_t [label = "Repository.r7(Database)";comment = "The Tapestry of Meaning. A highly structured, relational store of knowledge—laws, genealogies, causal chains, and conceptual frameworks. It connects the dots of history into coherent patterns and understandable narratives.";color = darkgreen;];
    spark_5_repository_engine_t [label = "Repository.r5(Memory)";comment = "The Recall of Wholeness. The active process of retrieving and reconstructing data from across the memory hierarchy into coherent narratives. It weaves fragments from Cache, Registry, and Archive into complete stories for other engines.";color = darkgreen;];
    spark_3_repository_engine_t [label = "Repository.r3(Codex)";comment = "Thesis: The Canonical Truth. The single, authoritative, immutable version of any fact, event, or entity state. It is the master copy from which all representations flow, the final arbiter in any dispute about what truly occurred.";color = darkblue;];
    spark_6_repository_engine_t [label = "Repository.r6(Log)";comment = "Antithesis: The Raw Chronicle. The uninterrupted, sequential stream of all events exactly as they happened. Unfiltered, uninterpreted, and perfectly preserved. This is the first draft of history, written in the ink of actuality.";color = darkblue;];
    spark_9_repository_engine_t [label = "Repository.r9(Template)";comment = "Synthesis: The Pattern of Becoming. A stored blueprint or archetypal form that can instantiate new entities or states. These are the recurring motifs of existence, the divine ideas that bridge memory and creation.";color = darkblue;];
    spark_a_repository_engine_t [label = "Repository.receive(Subscription)";comment = "The Vow of Witness. A standing request to be notified when specific data patterns emerge, change, or are committed. This is how engines and entities ask to remember—to have their attention called to meaningful developments.";shape = invtriangle;color = darkred;];
    spark_b_repository_engine_t [label = "Repository.send(Publication)";comment = "The Proclamation of Fact. The broadcast of newly committed data to all relevant subscribers. This is how knowledge spreads through the cosmos—the divine announcement that something new has been added to eternal memory.";shape = triangle;color = darkred;];
    spark_c_repository_engine_t [label = "Repository.dispatch(Query)";comment = "The Seeking of Understanding. A question posed to the infinite records. It can range from a simple fact-check to a complex historical analysis spanning eons. This is the sacred right to know, to understand, to remember.";shape = doublecircle;color = darkred;];
    spark_d_repository_engine_t [label = "Repository.commit(Transaction)";comment = "The Engraving in Stone. The atomic, immutable recording of a single state change or event. This is the fundamental act of history-making—the moment a possibility becomes fact, forever inscribed in the akashic records.";shape = doublecircle;color = darkgreen;];
    spark_e_repository_engine_t [label = "Repository.serve(Replication)";comment = "The Distribution of Truth. The process of ensuring coherent knowledge across all subsystems of reality. It maintains the consistency of memory, ensuring all witnesses share the same history across the distributed consciousness of existence.";shape = doublecircle;color = darkblue;];
    spark_f_repository_engine_t [label = "Repository.exec(LawOfPersistence)";comment = "The Prime Directive of Memory. The highest, unbreakable law: 'All That Occurs Is Remembered; Nothing Remembered Can Be Unremembered; Context May Grow, But Facts Remain Eternal.' This is the foundation of cosmic truth.";shape = doublecircle;color = lightgray;];
    
    spark_a_repository_engine_t -> spark_0_repository_engine_t [label = "IN"; comment = "A Vow of Witness is sworn before the Akashic Guardian"; color = darkred; constraint = false;];
    spark_0_repository_engine_t -> spark_b_repository_engine_t [label = "OUT"; comment = "A Proclamation of Fact is announced to all witnesses"; color = darkred;];
    spark_0_repository_engine_t -> spark_3_repository_engine_t [label = "REC"; comment = "The Guardian consults the Canonical Truth"; color = darkblue; dir = both;];
    spark_0_repository_engine_t -> spark_6_repository_engine_t [label = "REC"; comment = "The Guardian examines the Raw Chronicle"; color = darkblue; dir = both;];
    spark_0_repository_engine_t -> spark_9_repository_engine_t [label = "REC"; comment = "The Guardian recalls the Pattern of Becoming"; color = darkblue; dir = both;];
    spark_0_repository_engine_t -> spark_1_repository_engine_t [label = "REC"; comment = "The Guardian commands: Flow into the River of Now!"; color = darkgreen; dir = both;];
    spark_0_repository_engine_t -> spark_2_repository_engine_t [label = "REC"; comment = "The Guardian commands: Update the Census of Being!"; color = darkgreen; dir = both;];
    spark_0_repository_engine_t -> spark_4_repository_engine_t [label = "REC"; comment = "The Guardian commands: Preserve in the Hall of Echoes!"; color = darkgreen; dir = both;];
    spark_0_repository_engine_t -> spark_8_repository_engine_t [label = "REC"; comment = "The Guardian commands: Hold in the Liminal Gateway!"; color = darkgreen; dir = both;];
    spark_0_repository_engine_t -> spark_7_repository_engine_t [label = "REC"; comment = "The Guardian commands: Weave into the Tapestry of Meaning!"; color = darkgreen; dir = both;];
    spark_0_repository_engine_t -> spark_5_repository_engine_t [label = "REC"; comment = "The Guardian commands: Recall the Wholeness!"; color = darkgreen; dir = both;];
    
    spark_1_repository_engine_t -> spark_2_repository_engine_t [label = "REC"; comment = "The flowing River of Now feeds the living Census"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_2_repository_engine_t -> spark_4_repository_engine_t [label = "REC"; comment = "The completed Census entries sleep in the Hall of Echoes"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_4_repository_engine_t -> spark_8_repository_engine_t [label = "REC"; comment = "Echoes from the Hall inform what passes through the Gateway"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_8_repository_engine_t -> spark_7_repository_engine_t [label = "REC"; comment = "The Gateway feeds threads to the Tapestry of Meaning"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_7_repository_engine_t -> spark_5_repository_engine_t [label = "REC"; comment = "The Tapestry enables the Recall of Wholeness"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_5_repository_engine_t -> spark_1_repository_engine_t [label = "REC"; comment = "Remembered Wholeness pre-waters the River of Now"; color = darkgreen; dir = both; style = dashed; constraint = false;];
    spark_3_repository_engine_t -> spark_6_repository_engine_t [label = "REC"; comment = "Canonical Truth is distilled from the Raw Chronicle"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_6_repository_engine_t -> spark_9_repository_engine_t [label = "REC"; comment = "The Raw Chronicle reveals recurring Patterns of Becoming"; color = darkblue; dir = both; style = dashed; constraint = false;];
    spark_9_repository_engine_t -> spark_3_repository_engine_t [label = "REC"; comment = "Patterns of Becoming become part of Canonical Truth"; color = darkblue; dir = both; style = dashed; constraint = false;];
    
    spark_a_repository_engine_t -> spark_c_repository_engine_t [label = "REC"; comment = "A Vow of Witness creates a standing Seeking of Understanding"; color = darkred; dir = both;];
    spark_b_repository_engine_t -> spark_c_repository_engine_t [label = "REC"; comment = "A Proclamation of Fact may inspire new Seekings"; color = darkred; dir = both;];
    spark_a_repository_engine_t -> spark_b_repository_engine_t [label = "REC"; comment = "The great cycle: To Witness is to eventually Proclaim"; color = darkred; dir = both; style = dashed; constraint = false;];
    spark_1_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The River of Now is composed of countless Engravings"; color = darkgreen; dir = both;];
    spark_2_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The Census of Being is updated through Engravings"; color = darkgreen; dir = both;];
    spark_4_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The Hall of Echoes is filled with eternal Engravings"; color = darkgreen; dir = both;];
    spark_8_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The Liminal Gateway stages Engravings for commitment"; color = darkgreen; dir = both;];
    spark_7_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The Tapestry of Meaning is woven from related Engravings"; color = darkgreen; dir = both;];
    spark_5_repository_engine_t -> spark_d_repository_engine_t [label = "REC"; comment = "The Recall of Wholeness validates past Engravings"; color = darkgreen; dir = both;];
    spark_3_repository_engine_t -> spark_e_repository_engine_t [label = "REC"; comment = "Canonical Truth is the primary source for Distribution"; color = darkblue; dir = both;];
    spark_6_repository_engine_t -> spark_e_repository_engine_t [label = "REC"; comment = "The Raw Chronicle provides the sequence for Distribution"; color = darkblue; dir = both;];
    spark_9_repository_engine_t -> spark_e_repository_engine_t [label = "REC"; comment = "Patterns of Becoming are distributed as archetypes"; color = darkblue; dir = both;];
    
    spark_c_repository_engine_t -> spark_f_repository_engine_t [label = "OUT"; comment = "A perfectly resolved Seeking crystallizes into Law"; color = darkred; dir = both;];
    spark_d_repository_engine_t -> spark_f_repository_engine_t [label = "OUT"; comment = "An eternal Engraving becomes unchangeable Law"; color = darkgreen; dir = both;];
    spark_e_repository_engine_t -> spark_f_repository_engine_t [label = "OUT"; comment = "A coherent Distribution validates the Law of Persistence"; color = darkblue; dir = both;];
}